<<<<<<< HEAD
=======
/*!
 * Module dependencies.
 */

var MPromise = require('./promise');

>>>>>>> 1aab91bc1ef0b5dd930fd3e75b92777848fc74d3
/**
 * Helper for multiplexing promise implementations
 *
 * @api private
 */

<<<<<<< HEAD
var store = {
  _promise: global.Promise
=======
var Promise = {
  _promise: MPromise
>>>>>>> 1aab91bc1ef0b5dd930fd3e75b92777848fc74d3
};

/**
 * Get the current promise constructor
 *
 * @api private
 */
<<<<<<< HEAD

store.get = function() {
  return store._promise;
=======
Promise.get = function() {
  return Promise._promise;
>>>>>>> 1aab91bc1ef0b5dd930fd3e75b92777848fc74d3
};

/**
 * Set the current promise constructor
 *
 * @api private
 */

<<<<<<< HEAD
store.set = function(lib) {
  store._promise = lib;
  require('mquery').Promise = lib;
};

module.exports = store;
=======
Promise.set = function(lib) {
  if (lib === MPromise) {
    return Promise.reset();
  }
  Promise._promise = require('./ES6Promise');
  Promise._promise.use(lib);
  require('mquery').Promise = Promise._promise.ES6;
};

/**
 * Resets to using mpromise
 *
 * @api private
 */

Promise.reset = function() {
  Promise._promise = MPromise;
};

module.exports = Promise;
>>>>>>> 1aab91bc1ef0b5dd930fd3e75b92777848fc74d3
